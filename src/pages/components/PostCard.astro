---

const {post} = Astro.props;

if (!post) {
  console.warn("PostCard missing `post` prop");
}
const frontmatter = post?.frontmatter ?? {};

function formatdate (date:Date) {
	return new Date(date).toLocaleDateString('en-US', {timeZone: "UTC",})
}

---


{post ? (
  <div id="postCard">
    <img id="postImg" src={post.frontmatter?.image ?? '/default.jpg'} alt={post.frontmatter?.title ?? 'Post image'}>
    <div id="postInfo">
      <a href={post.url}><h2>{post.frontmatter?.title ?? 'Untitled'}</h2></a>
      <p>{post.frontmatter?.description ?? 'No description available'}</p>
      <div id="postData">
        <p>{formatdate(post.frontmatter?.date)}</p>
        <p>by {post.frontmatter?.author ?? 'Unknown'}</p>
        <p><a id="readMore" href={post.url}>Read more..</a></p>
      </div>
    </div>
  </div>
) : (
  <p>Error: post data missing</p>
)}
